<!DOCTYPE html>
<html lang="en">


<!-- molla/product.html  22 Nov 2019 09:54:50 GMT -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Clicon</title>
    <meta name="keywords" content="HTML5 Template">
    <meta name="description" content="Molla - Bootstrap eCommerce Template">
    <meta name="author" content="p-themes">
    <!-- Favicon -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/icons/favicon-16x16.png">
    <link rel="manifest" href="/assets/images/icons/site.html">
    <link rel="mask-icon" href="/assets/images/icons/safari-pinned-tab.svg" color="#666666">
    <link rel="shortcut icon" href="/assets/images/icons/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Molla">
    <meta name="application-name" content="Molla">
    <meta name="msapplication-TileColor" content="#cc9966">
    <meta name="msapplication-config" content="/assets/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- Plugins CSS File -->
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/plugins/owl-carousel/owl.carousel.css">
    <link rel="stylesheet" href="/assets/css/plugins/magnific-popup/magnific-popup.css">
    <!-- Main CSS File -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/plugins/nouislider/nouislider.css">
</head>

<body>

<style>
body {
    font-family: 'Arial', sans-serif;
    background: #f8f9fa;
}

.container {
    max-width: 1200px;
    margin: auto;
    padding: 0 15px;
}

.profile-section {
    background-color: #ffffff;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
    margin-bottom: 30px;
}

.profile-image {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin: 0 auto 20px;
    overflow: hidden;
    border: 3px solid #f8f9fa;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
}

.profile-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.profile-sidebar {
    background: #fff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
}

.nav-link {
    color: #495057;
    padding: 12px 15px;
    border-radius: 8px;
    transition: all 0.3s ease;
    margin-bottom: 8px;
}

.nav-link:hover {
    background-color: #f8f9fa;
    color: #007bff;
}

.nav-link.active {
    background-color: #007bff;
    color: #fff !important;
}

.nav-link i {
    margin-right: 10px;
    width: 20px;
    text-align: center;
}

.address-card {
    background: #fff;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease;
    position: relative;
}


.address-actions {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 8px;
}

.btn-icon {
    width: 32px;
    height: 32px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    border: none;
    transition: all 0.3s ease;
}

.btn-icon-edit {
    background-color: #f8f9fa;
    color: #007bff;
}

.btn-icon-edit:hover {
    background-color: #007bff;
    color: #fff;
}

.btn-icon-delete {
    background-color: #f8f9fa;
    color: #dc3545;
}

.btn-icon-delete:hover {
    background-color: #dc3545;
    color: #fff;
}

.custom-btn {
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.3s ease;
    border: none;
}

.btn-primary {
    background-color: #007bff;
    color: #fff;
}

.btn-success {
    background-color: #28a745;
}

.btn-danger {
    background-color: #dc3545;
}

.modal-content {
    border-radius: 12px;
    border: none;
}

.modal-header {
    background-color: #f8f9fa;
    border-radius: 12px 12px 0 0;
    border-bottom: 1px solid #dee2e6;
}

.modal-body {
    padding: 25px;
}

.share-btn-wrapper {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
}

.share-btn {
    background-color: #25D366;
    color: white;
    padding: 12px 24px;
    border-radius: 50px;
    box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
    transition: all 0.3s ease;
}

.share-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
}

@media (max-width: 768px) {
    .profile-sidebar {
        margin-bottom: 20px;
    }
    
    .share-btn-wrapper {
        bottom: 20px;
        right: 20px;
    }
    
    .address-card {
        margin-bottom: 15px;
    }
}
</style>


    <div class="page-wrapper">
      <header class="header header-intro-clearance header-4">
        <div class="header-top" style="background-color: #f4f4f4;">
            <div class="container" style="padding: 0 15px;">
                <div class="header-left">
                    <a href="tel:#"><i class="icon-phone"></i>Call: +0123 456 789</a>
                </div><!-- End .header-left -->
    
                <div class="header-right">
                    <ul class="top-menu" style="list-style: none; margin: 0; padding: 0;">
                        <li>
                            <a href="#">Links</a>
                            <ul style="display: none;">
                                <li>
                                    <div class="header-dropdown">
                                        <a href="#">USD</a>
                                        <div class="header-menu">
                                            <ul>
                                                <!-- <li><a href="#">Eur</a></li>
                                                <li><a href="#">Usd</a></li> -->
                                            </ul>
                                        </div><!-- End .header-menu -->
                                    </div>
                                </li>
                                <li>
                                    <div class="header-dropdown">
                                        <a href="#">English</a>
                                        <div class="header-menu">
                                            <ul>
                                                <!-- <li><a href="#">English</a></li>
                                                <li><a href="#">French</a></li>
                                                <li><a href="#">Spanish</a></li> -->
                                            </ul>
                                        </div><!-- End .header-menu -->
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul><!-- End .top-menu -->
                </div><!-- End .header-right -->
            </div><!-- End .container -->
        </div><!-- End .header-top -->
    
        <div class="header-middle">
            <div class="container">
                <div class="header-left">
                    <button class="mobile-menu-toggler" style="display: none;">
                        <span class="sr-only">Toggle mobile menu</span>
                        <i class="icon-bars"></i>
                    </button>
                    
                    <a href="index.html" class="logo">
                        <h2>Clicon</h2>
                    </a>
                </div><!-- End .header-left -->
    
    
                <div class="header-right">
                    <div class="compare-dropdown">
                        <a href="#" title="Compare Products" aria-label="Compare Products">
                            <div class="icon">
                                <i class="icon-random" style="font-size: 24px;"></i>
                            </div>
                            <p>Compare</p>
                        </a>
                    </div><!-- End .compare-dropdown -->
    
                    <div class="wishlist">
                        <a href="/wishlist" title="Wishlist">
                            <div class="icon">
                                <i class="icon-heart-o"></i>
                            </div>
                            <p>Wishlist</p>
                        </a>
                    </div><!-- End .compare-dropdown -->
    
                    <div class="cart-dropdown">
                        <a href="/cart" class="dropdown-toggle" role="button" data-display="static">
                            <div class="icon">
                                <i class="icon-shopping-cart"></i>
                            </div>
                            <p>Cart</p>
                        </a>
                    </div><!-- End .cart-dropdown -->
                </div><!-- End .header-right -->
            </div><!-- End .container -->
        </div><!-- End .header-middle -->
    
        <div class="header-bottom sticky-header">
            <div class="container">
                <div class="header-left">
                   
                </div><!-- End .header-left -->
    
                <div class="header-center">
                    <nav class="main-nav" style="display: flex; align-items: center;">
                        <ul class="menu" style="list-style: none; display: flex; align-items: center; margin: 0; padding: 0; width: 100%;">
                            <li class="megamenu-container active" style="margin: 0 10px;">
                                <a href="/" class="sff-with-ul" style="text-decoration: none; color: #000; font-size: 16px;">Home</a>
                            </li>
                            <li style="margin: 0 10px;">
                                <a href="/productlist" class="sff-with-ul" style="text-decoration: none; color: #000; font-size: 16px;">Shop</a>
                            </li>
                            <li style="margin: 0 10px;">
                                <a href="blog.html" class="sff-with-ul" style="text-decoration: none; color: #000; font-size: 16px;">About</a>
                            </li>
                            <li style="margin: 0 10px;">
                                <a href="elements-list.html" class="sff-with-ul" style="text-decoration: none; color: #000; font-size: 16px;">Contact</a>
                            </li>
                        </ul>
                    </nav>
                </div>
    
                <div class="header-right">
                    <i class="la la-lightbulb-o"></i><p>Clearance<span class="highlight">&nbsp;Up to 30% Off</span></p>
                </div>
            </div><!-- End .container -->
        </div><!-- End .header-bottom -->
    </header>
    
  
    

    <main class="main">

      


      <div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
        <div class="container">
          <h1 class="page-title">Profile<span>Shop</span></h1>
        </div><!-- End .container -->
      </div>


        <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
            <div class="container d-flex align-items-center" style="border-bottom: 1px solid burlywood;">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item"><a href="/profile/<%= user?._id %>">Profile</a></li>
                
                </ol>

                
            </div><!-- End .container -->
        </nav><!-- End .breadcrumb-nav -->

  
      
          
          <!-- New Dashboard Layout -->
          <div class="container" style="margin-top: 40px;">
              <div class="row">
                  <!-- Sidebar -->
                  <div class="col-md-3">
                      <div class="profile-sidebar" style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                          <ul class="nav flex-column" style="list-style: none; padding: 0;">
                              <li class="nav-item">
                                  <a class="nav-link active" href="#profile-section" data-section="profile-section" style="color: #333; padding: 10px; display: block; border-radius: 5px; margin-bottom: 5px;">
                                      <i class="fas fa-user"></i> Profile Info
                                  </a>
                              </li>
                              <li class="nav-item">
                                  <a class="nav-link" href="#address-section" data-section="address-section" style="color: #333; padding: 10px; display: block; border-radius: 5px; margin-bottom: 5px;">
                                      <i class="fas fa-map-marker-alt"></i> Addresses
                                  </a>
                              </li>
                              <li class="nav-item">
                                  <a class="nav-link" href="#orders-section" data-section="orders-section" style="color: #333; padding: 10px; display: block; border-radius: 5px; margin-bottom: 5px;">
                                      <i class="fas fa-shopping-bag"></i> Orders
                                  </a>
                              </li>
                              <li class="nav-item">
                                  <a class="nav-link" href="#wallet-section" data-section="wallet-section">
                                      <i class="fas fa-wallet"></i> Wallet
                                  </a>
                              </li>
                          </ul>
                      </div>
                  </div>

                  <!-- Main Content -->
                  <div class="col-md-9">
                      <!-- Profile Section -->
                      <div class="content-section active" id="profile-section">
                          <!-- Move your existing profile-section content here -->
                          <div class="profile-section position-relative" style="background-color: #ffffff; border-radius: 8px; padding: 20px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); position: relative;">
                              <a href="/logout">
                                <button class="custom-btn logout-btn position-absolute" style="top: 10px; right: 10px;">
                                  <span>Logout</span>
                              </button>

                              </a>
                           
                        
                            <div class="d-flex flex-column align-items-center"></div>
                        
                            <div class="d-flex align-items-center justify-content-center">
                                <% if (user && user.image) { %>
                                    <img style="height: 100px; width: 100px; border-radius: 50%;" src="<%=user.image %>" alt="Profile Image">
                                <% } else { %>
                                    <img style="height: 100px; width: 100px; border-radius: 50%;" src="/images/profile.avif" alt="Default Profile Image">
                                <% } %>
                            </div>
                        
                            <div class="d-flex align-items-center justify-content-center" style="display: flex; align-items: center; gap: 50px; height: 200px;">
                                <div class="text-center">
                                    <h3 style="margin: 0; font-size: 22px;">Account Info</h3>
                                    <p style="margin: 5px 0;"><strong>Name:</strong> <%=user?.name %></p>
                                    <p style="margin: 5px 0;"><strong>Email:</strong> <%=user?.email%></p>
                                    <p style="margin: 5px 0;"><strong>Phone:</strong> <%=user?.phone%></p>
                                </div>
                            </div>

                           
                        
                            <div class="d-flex align-items-center justify-content-center">
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateProfileModal">Edit Profile</button>
                            </div>
                        
                            <!-- Wallet Button (Bottom Right) -->

                            <!-- Remove or comment out this wallet button -->
                            <!--
                            <a href="/wallet">
                              <button class="custom-btn wallet btn-primary position-absolute" style="bottom: 10px; right: 10px;">
                                
                                <span>Wallet</span>
                            </button>
                            </a>
                            -->
                           
                        
                        </div>
                      </div>

                      <!-- Address Section -->
                      <div class="content-section" id="address-section" style="display: none;">
                          <div class="card w-100">
                              <div class="card-body p-4">
                                  <div class="d-flex justify-content-between align-items-center mb-4">
                                      <h2 class="mb-0">My Addresses</h2>
                                      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addAddressModal">
                                          <i class="fas fa-plus me-2"></i>Add New Address
                                      </button>
                                  </div>

                                  <!-- List of Addresses -->
                                  <div class="row">
                                      <% address.forEach((address, index) => { %>
                                          <div class="col-12 mb-3">
                                              <div class="address-card rounded-3 p-3">
                                                  <div class="row g-2">
                                                      <div class="col-md-8">
                                                          <div class="d-flex align-items-center mb-2">
                                                              <h6 class="fw-bold mb-0 me-2">Address <%= index + 1 %></h6>
                                                            
                                                          </div>
                                                          
                                                          <div class="address-details">
                                                              <div class="row g-2">
                                                                  <div class="col-6">
                                                                      <p class="mb-1">
                                                                          <i class="fas fa-map-marker-alt me-1 text-primary"></i>
                                                                          <%= address?.street %>
                                                                      </p>
                                                                      <p class="mb-1">
                                                                          <i class="fas fa-city me-1 text-primary"></i>
                                                                          <%= address?.city %>, <%= address?.state %>
                                                                      </p>
                                                                  </div>
                                                                  <div class="col-6">
                                                                      <p class="mb-1">
                                                                          <i class="fas fa-globe me-1 text-primary"></i>
                                                                          <%= address?.country %>, <%= address?.postalCode %>
                                                                      </p>
                                                                      <p class="mb-1">
                                                                          <i class="fas fa-phone me-1 text-primary"></i>
                                                                          <%= address?.phone %>
                                                                      </p>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                                      
                                                      <div class="col-md-4">
                                                          <div class="d-flex justify-content-end">
                                                              <div class="address-actions">
                                                                  <button class="btn-icon btn-icon-edit" 
                                                                          onclick="editAddress('<%= address?.id %>', '<%= address?.street %>', '<%= address?.city %>', '<%= address?.state %>', '<%= address?.country %>', '<%= address?.postalCode %>', '<%= address?.phone %>')" 
                                                                          data-bs-toggle="modal" 
                                                                          data-bs-target="#editAddressModal">
                                                                      <i class="fas fa-edit"></i>
                                                                  </button>
                                                                  <form action="/remove-address/<%= user?._id %>?address=<%= address?.id %>" 
                                                                        method="post" 
                                                                        style="display: inline;" 
                                                                        onsubmit="return confirmDeletion(event, this)">
                                                                      <button type="submit" class="btn-icon btn-icon-delete">
                                                                          <i class="fas fa-trash"></i>
                                                                      </button>
                                                                  </form>
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      <% }) %>
                                  </div>

                                  <% if (address.length === 0) { %>
                                      <div class="text-center py-5">
                                          <i class="fas fa-map-marker-alt fa-3x text-muted mb-3"></i>
                                          <h5 class="text-muted">No addresses found</h5>
                                          <p class="text-muted">Add a new address to get started</p>
                                      </div>
                                  <% } %>
                              </div>
                          </div>
                      </div>

                      <!-- Orders Section -->
                      <div class="content-section" id="orders-section" style="display: none;">
                          <div class="card">
                              <div class="card-body">
                                  <!-- Move your existing orders table here -->
                                  <div style="display: flex; justify-content: center; align-items: center; margin-top: 20px;">
                                    <div class="recent-orders mb-5" 
                                         style="width: 1000px; background-color: #fff; border-radius: 8px; padding: 20px; 
                                                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
                                      <h3 style="margin-bottom: 20px; font-size: 22px; color: #333;">Your Orders</h3>
                                      <table style="width: 100%; border-collapse: collapse; font-size: 16px;">
                                        <thead>
                                          <tr style="background-color: #f4f4f4; text-align: left;">
                                            <th style="padding: 12px;">Product Name</th>
                                            <th style="padding: 12px;">Date</th>
                                            <th style="padding: 12px;">Total</th>
                                            <th style="padding: 12px;">Action</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          
                                          <% let rowCount = 1; %>

                                          <% orders?.sort((a, b) => new Date(b.orderDate) - new Date(a?.orderDate)).forEach(order => { %>
                                            <% order?.items?.forEach(item => { %>
                                              
                                              
                                      <% 
                                      const originalPrice = parseFloat(item.productId?.price.replace(/,/g, "")) || 0;
                                      const discountMatch = item.productId?.offer ? item.productId?.offer.match(/\d+/) : null;
                                      const discountPercentage = discountMatch ? parseFloat(discountMatch[0]) : 0;
                                      const discountedPrice = originalPrice - (originalPrice * discountPercentage / 100);
                                      const total = (discountedPrice*item.quantity)-(order.coupon?.discountValue||0)
                                    %>
                                 
                                              <tr id="row<%= rowCount %>" style="border-bottom: 1px solid #ddd;">
                                                <td style="padding: 12px; color: #333;"><%= item?.productId?.productname %></td>
                                              
                                              
                                                <td style="padding: 12px; color: #666;"><%= new Date(order?.orderDate).toLocaleDateString() %></td>
                                                <td style="padding: 12px; font-weight: bold; color: #333;"><%= Math.floor(total)  %></td>
                                                <td style="padding: 12px;">
                                                  <a href="/orderview/<%= order?._id %>/<%= item?.productId?._id %>" 
                                                     class="btn btn-primary" 
                                                     style="padding: 8px 12px; background-color: #007bff; color: white; text-decoration: none; 
                                                            border-radius: 5px; display: inline-block;">
                                                    View Details
                                                  </a>
                                                </td>
                                              </tr>
                                              <% rowCount++; %>
                                            <% }); %>
                                          <% }); %>
                                        </tbody>
                                        
                                      </table>
                                  
                                      <div id="pagination" style="text-align: center; margin-top: 20px;">
                                        <button id="prevBtn" class="btn btn-secondary" 
                                                style="padding: 8px 12px; background-color: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                          Previous
                                        </button>
                                        <span id="pageno" style="margin: 0 15px; font-weight: bold; font-size: 18px;">1</span>
                                        <button id="nextBtn" class="btn btn-secondary" 
                                                style="padding: 8px 12px; background-color: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                          Next
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                              </div>
                          </div>
                      </div>

                      <!-- Wallet Section -->
                      <div class="content-section" id="wallet-section" style="display: none;">
                          <!-- Wallet content will be loaded here -->
                      </div>
                  </div>
              </div>
          </div>

          
<!-- Edit Profile Modal -->
<div class="modal fade" id="updateProfileModal" tabindex="-1" aria-labelledby="updateProfileModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="updateProfileModalLabel">Edit Profile</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="profile-edit-form" action="/update-profile" method="POST" enctype="multipart/form-data">
          <div class="mb-3">
            <input type="hidden" name="userId" value="<%=user._id %>">
            <label for="profile-name" class="form-label">Name</label>
            <input type="text" class="form-control" id="profile-name" name="name" value="<%= user?.name %>">
          </div>
          <div class="mb-3">
            <label for="phone" class="form-label">Phone</label>
            <input type="text" class="form-control" id="phone" name="phone" value="<%= user?.phone %>">
          </div>
          <div class="mb-3">
            <label for="profileImage" class="form-label">Profile Image</label>
            <input type="file" class="form-control" id="profileImage" name="image">
          </div>
          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="changePassword" onchange="togglePasswordFields()">
            <label class="form-check-label" for="changePassword">Change Password</label>
          </div>


          <div id="passwordFields" style="display: none;">
            <div class="mb-3">
                <label for="profile-password" class="form-label">Current Password</label>
                <input type="password" class="form-control" id="profile-password" name="currentPassword">
              </div>
            <div class="mb-3">
              <label for="profile-password" class="form-label">New Password</label>
              <input type="password" class="form-control" id="profile-password" name="password">
            </div>
            <div class="mb-3">
              <label for="profile-confirmpassword" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" id="profile-confirmpassword" name="confirmPassword">
            </div>
          </div>


          <div id="errorpp" class="text-danger"></div>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Updated Add New Address Modal -->
<div class="modal fade" id="addAddressModal" tabindex="-1" aria-labelledby="addAddressModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addAddressModalLabel">Add New Address</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="/address" method="POST">
          <input type="hidden" name="id" value="<%= user._id %>">
          
          <div class="mb-3">
            <label for="street" class="form-label">
              <i class="fas fa-road me-2"></i>Street Address
            </label>
            <input type="text" class="form-control" id="street" name="street" 
                   placeholder="Enter your street address" required>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="city" class="form-label">
                <i class="fas fa-city me-2"></i>City
              </label>
              <input type="text" class="form-control" id="city" name="city" 
                     placeholder="Enter city" required>
            </div>
            <div class="col-md-6 mb-3">
              <label for="state" class="form-label">
                <i class="fas fa-map me-2"></i>State
              </label>
              <input type="text" class="form-control" id="state" name="state" 
                     placeholder="Enter state" required>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="country" class="form-label">
                <i class="fas fa-globe me-2"></i>Country
              </label>
              <input type="text" class="form-control" id="country" name="country" 
                     placeholder="Enter country" required>
            </div>
            <div class="col-md-6 mb-3">
              <label for="postalCode" class="form-label">
                <i class="fas fa-mail-bulk me-2"></i>Postal Code
              </label>
              <input type="text" class="form-control" id="postalCode" name="postalCode" 
                     placeholder="Enter postal code" required>
            </div>
          </div>

          <div class="mb-3">
            <label for="phones" class="form-label">
              <i class="fas fa-phone me-2"></i>Phone Number
            </label>
            <input type="number" class="form-control" id="phones" name="phone" 
                   placeholder="Enter phone number" required>
          </div>

          <div id="errorp" class="text-danger mb-3"></div>

          <div class="d-flex justify-content-end gap-2">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              <i class="fas fa-times me-2"></i>Cancel
            </button>
            <button type="submit" class="btn btn-success">
              <i class="fas fa-check me-2"></i>Add Address
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Edit Address Modal -->
<div class="modal fade" id="editAddressModal" tabindex="-1" aria-labelledby="editAddressModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editAddressModalLabel">Edit Address</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="edit-address" action="/edit-address" method="POST">
            <input type="hidden" name="adressaId" id="editId">
            <input type="hidden" name="userId" value="<%= user?._id %>">
          <div class="mb-3">
            <label for="editStreet" class="form-label">Street</label>
            <input type="text" class="form-control" id="editStreet" name="street" required>
          </div>
          <div class="mb-3">
            <label for="editCity" class="form-label">City</label>
            <input type="text" class="form-control" id="editCity" name="city" required>
          </div>
          <div class="mb-3">
            <label for="editPhone" class="form-label">Phone</label>
            <input type="text" class="form-control" id="editPhone" name="phone" required>
          </div>
          <div class="mb-3">
            <label for="editState" class="form-label">State</label>
            <input type="text" class="form-control" id="editState" name="state" required>
          </div>
          <div class="mb-3">
            <label for="editCountry" class="form-label">Country</label>
            <input type="text" class="form-control" id="editCountry" name="country" required>
          </div>
          <div class="mb-3">
            <label for="editPostalCode" class="form-label">Postal Code</label>
            <input type="text" class="form-control" id="editPostalCode" name="postalCode" required>
          </div>
          <div id="error-message" class="text-danger"></div>
          <button type="submit" class="btn btn-success">Save Changes</button>
        </form>
      </div>
    </div>
  </div>
</div>



    </main>

    <!-- Share Referral Button -->
    <div class="share-btn-wrapper">
        <button class="share-btn" onclick="shareOnWhatsApp()">
            <i class="bi bi-whatsapp"></i> Share Referral
        </button>
    </div>

    <footer class="footer">
    <div class="footer-middle">
        <div class="container">
          <div class="row">
            <div class="col-sm-6 col-lg-3">
              <div class="widget widget-about">
                          <h3 style="color: black;">
                              <i class="fas fa-gem"></i> Clicon
                            </h3>
                <p>Praesent dapibus, neque id cursus ucibus, tortor neque egestas augue, eu vulputate magna eros eu erat. </p>
                       
                <div class="social-icons">
                  <a href="#" class="social-icon" target="_blank" title="Facebook"><i class="icon-facebook-f"></i></a>
                  <a href="#" class="social-icon" target="_blank" title="Twitter"><i class="icon-twitter"></i></a>
                  <a href="#" class="social-icon" target="_blank" title="Instagram"><i class="icon-instagram"></i></a>
                  <a href="#" class="social-icon" target="_blank" title="Youtube"><i class="icon-youtube"></i></a>
                  <a href="#" class="social-icon" target="_blank" title="Pinterest"><i class="icon-pinterest"></i></a>
                </div><!-- End .soial-icons -->
              </div><!-- End .widget about-widget -->
            </div><!-- End .col-sm-6 col-lg-3 -->

            <div class="col-sm-6 col-lg-3">
              <div class="widget">
                <h4 class="widget-title">Useful Links</h4><!-- End .widget-title -->

                <ul class="widget-list">
                  <li><a href="about.html">About Molla</a></li>
                  <li><a href="#">How to shop on Molla</a></li>
                  <li><a href="#">FAQ</a></li>
                  <li><a href="contact.html">Contact us</a></li>
                  <li><a href="login.html">Log in</a></li>
                </ul><!-- End .widget-list -->
              </div><!-- End .widget -->
            </div><!-- End .col-sm-6 col-lg-3 -->

            <div class="col-sm-6 col-lg-3">
              <div class="widget">
                <h4 class="widget-title">Customer Service</h4><!-- End .widget-title -->

                <ul class="widget-list">
                  <li><a href="#">Payment Methods</a></li>
                  <li><a href="#">Money-back guarantee!</a></li>
                  <li><a href="#">Returns</a></li>
                  <li><a href="#">Shipping</a></li>
                  <li><a href="#">Terms and conditions</a></li>
                  <li><a href="#">Privacy Policy</a></li>
                </ul><!-- End .widget-list -->
              </div><!-- End .widget -->
            </div><!-- End .col-sm-6 col-lg-3 -->

            <div class="col-sm-6 col-lg-3">
              <div class="widget">
                <h4 class="widget-title">My Account</h4><!-- End .widget-title -->

                <ul class="widget-list">
                  <li><a href="#">Sign In</a></li>
                  <li><a href="cart.html">View Cart</a></li>
                  <li><a href="#">My Wishlist</a></li>
                  <li><a href="#">Track My Order</a></li>
                  <li><a href="#">Help</a></li>
                </ul><!-- End .widget-list -->
              </div><!-- End .widget -->
            </div><!-- End .col-sm-6 col-lg-3 -->
          </div><!-- End .row -->
        </div><!-- End .container -->
    </div><!-- End .footer-middle -->

    <div class="footer-bottom">
      <div class="container">
        <p class="footer-copyright">Copyright Â© 2019 Molla Store. All Rights Reserved.</p><!-- End .footer-copyright -->
        <figure class="footer-payments">
          <img src="/assets/images/payments.png" alt="Payment methods" width="272" height="20">
        </figure><!-- End .footer-payments -->
      </div><!-- End .container -->
    </div><!-- End .footer-bottom -->
  </footer>
  <!-- End .footer -->




<button id="scroll-top" title="Back to Top"><i class="icon-arrow-up"></i></button>

<!-- Sticky Bar -->


<!-- Mobile Menu -->
<div class="mobile-menu-overlay"></div><!-- End .mobil-menu-overlay -->

<div class="mobile-menu-container">
  <div class="mobile-menu-wrapper">
      <span class="mobile-menu-close"><i class="icon-close"></i></span>

     
      
      
      <nav class="mobile-nav">
          <ul class="mobile-menu">
              <li class="active">
                  <a href="index.html">Home</a>

                  <ul>
                      <li><a href="index-1.html">01 - furniture store</a></li>
                      <li><a href="index-2.html">02 - furniture store</a></li>
                      <li><a href="index-3.html">03 - electronic store</a></li>
                      <li><a href="index-4.html">04 - electronic store</a></li>
                      <li><a href="index-5.html">05 - fashion store</a></li>
                      <li><a href="index-6.html">06 - fashion store</a></li>
                      <li><a href="index-7.html">07 - fashion store</a></li>
                      <li><a href="index-8.html">08 - fashion store</a></li>
                      <li><a href="index-9.html">09 - fashion store</a></li>
                      <li><a href="index-10.html">10 - shoes store</a></li>
                      <li><a href="index-11.html">11 - furniture simple store</a></li>
                      <li><a href="index-12.html">12 - fashion simple store</a></li>
                      <li><a href="index-13.html">13 - market</a></li>
                      <li><a href="index-14.html">14 - market fullwidth</a></li>
                      <li><a href="index-15.html">15 - lookbook 1</a></li>
                      <li><a href="index-16.html">16 - lookbook 2</a></li>
                      <li><a href="index-17.html">17 - fashion store</a></li>
                      <li><a href="index-18.html">18 - fashion store (with sidebar)</a></li>
                      <li><a href="index-19.html">19 - games store</a></li>
                      <li><a href="index-20.html">20 - book store</a></li>
                      <li><a href="index-21.html">21 - sport store</a></li>
                      <li><a href="index-22.html">22 - tools store</a></li>
                      <li><a href="index-23.html">23 - fashion left navigation store</a></li>
                      <li><a href="index-24.html">24 - extreme sport store</a></li>
                  </ul>
              </li>
              <li>
                  <a href="category.html">Shop</a>
                  <ul>
                      <li><a href="category-list.html">Shop List</a></li>
                      <li><a href="category-2cols.html">Shop Grid 2 Columns</a></li>
                      <li><a href="category.html">Shop Grid 3 Columns</a></li>
                      <li><a href="category-4cols.html">Shop Grid 4 Columns</a></li>
                      <li><a href="category-boxed.html"><span>Shop Boxed No Sidebar<span class="tip tip-hot">Hot</span></span></a></li>
                      <li><a href="category-fullwidth.html">Shop Fullwidth No Sidebar</a></li>
                      <li><a href="product-category-boxed.html">Product Category Boxed</a></li>
                      <li><a href="product-category-fullwidth.html"><span>Product Category Fullwidth<span class="tip tip-new">New</span></span></a></li>
                      <li><a href="cart.html">Cart</a></li>
                      <li><a href="checkout.html">Checkout</a></li>
                      <li><a href="wishlist.html">Wishlist</a></li>
                      <li><a href="#">Lookbook</a></li>
                  </ul>
              </li>
              <li>
                  <a href="product.html" class="sf-with-ul">Product</a>
                  <ul>
                      <li><a href="product.html">Default</a></li>
                      <li><a href="product-centered.html">Centered</a></li>
                      <li><a href="product-extended.html"><span>Extended Info<span class="tip tip-new">New</span></span></a></li>
                      <li><a href="product-gallery.html">Gallery</a></li>
                      <li><a href="product-sticky.html">Sticky Info</a></li>
                      <li><a href="product-sidebar.html">Boxed With Sidebar</a></li>
                      <li><a href="product-fullwidth.html">Full Width</a></li>
                      <li><a href="product-masonry.html">Masonry Sticky Info</a></li>
                  </ul>
              </li>
              <li>
                  <a href="#">Pages</a>
                  <ul>
                      <li>
                          <a href="about.html">About</a>

                          <ul>
                              <li><a href="about.html">About 01</a></li>
                              <li><a href="about-2.html">About 02</a></li>
                          </ul>
                      </li>
                      <li>
                          <a href="contact.html">Contact</a>

                          <ul>
                              <li><a href="contact.html">Contact 01</a></li>
                              <li><a href="contact-2.html">Contact 02</a></li>
                          </ul>
                      </li>
                      <li><a href="login.html">Login</a></li>
                      <li><a href="faq.html">FAQs</a></li>
                      <li><a href="404.html">Error 404</a></li>
                      <li><a href="coming-soon.html">Coming Soon</a></li>
                  </ul>
              </li>
              <li>
                  <a href="blog.html">Blog</a>

                  <ul>
                      <li><a href="blog.html">Classic</a></li>
                      <li><a href="blog-listing.html">Listing</a></li>
                      <li>
                          <a href="#">Grid</a>
                          <ul>
                              <li><a href="blog-grid-2cols.html">Grid 2 columns</a></li>
                              <li><a href="blog-grid-3cols.html">Grid 3 columns</a></li>
                              <li><a href="blog-grid-4cols.html">Grid 4 columns</a></li>
                              <li><a href="blog-grid-sidebar.html">Grid sidebar</a></li>
                          </ul>
                      </li>
                      <li>
                          <a href="#">Masonry</a>
                          <ul>
                              <li><a href="blog-masonry-2cols.html">Masonry 2 columns</a></li>
                              <li><a href="blog-masonry-3cols.html">Masonry 3 columns</a></li>
                              <li><a href="blog-masonry-4cols.html">Masonry 4 columns</a></li>
                              <li><a href="blog-masonry-sidebar.html">Masonry sidebar</a></li>
                          </ul>
                      </li>
                      <li>
                          <a href="#">Mask</a>
                          <ul>
                              <li><a href="blog-mask-grid.html">Blog mask grid</a></li>
                              <li><a href="blog-mask-masonry.html">Blog mask masonry</a></li>
                          </ul>
                      </li>
                      <li>
                          <a href="#">Single Post</a>
                          <ul>
                              <li><a href="single.html">Default with sidebar</a></li>
                              <li><a href="single-fullwidth.html">Fullwidth no sidebar</a></li>
                              <li><a href="single-fullwidth-sidebar.html">Fullwidth with sidebar</a></li>
                          </ul>
                      </li>
                  </ul>
              </li>
              <li>
                  <a href="elements-list.html">Elements</a>
                  <ul>
                      <li><a href="elements-products.html">Products</a></li>
                      <li><a href="elements-typography.html">Typography</a></li>
                      <li><a href="elements-titles.html">Titles</a></li>
                      <li><a href="elements-banners.html">Banners</a></li>
                      <li><a href="elements-product-category.html">Product Category</a></li>
                      <li><a href="elements-video-banners.html">Video Banners</a></li>
                      <li><a href="elements-buttons.html">Buttons</a></li>
                      <li><a href="elements-accordions.html">Accordions</a></li>
                      <li><a href="elements-tabs.html">Tabs</a></li>
                      <li><a href="elements-testimonials.html">Testimonials</a></li>
                      <li><a href="elements-blog-posts.html">Blog Posts</a></li>
                      <li><a href="elements-portfolio.html">Portfolio</a></li>
                      <li><a href="elements-cta.html">Call to Action</a></li>
                      <li><a href="elements-icon-boxes.html">Icon Boxes</a></li>
                  </ul>
              </li>
          </ul>
      </nav><!-- End .mobile-nav -->

      <div class="social-icons">
          <a href="#" class="social-icon" target="_blank" title="Facebook"><i class="icon-facebook-f"></i></a>
          <a href="#" class="social-icon" target="_blank" title="Twitter"><i class="icon-twitter"></i></a>
          <a href="#" class="social-icon" target="_blank" title="Instagram"><i class="icon-instagram"></i></a>
          <a href="#" class="social-icon" target="_blank" title="Youtube"><i class="icon-youtube"></i></a>
      </div><!-- End .social-icons -->
  </div><!-- End .mobile-menu-wrapper -->
</div><!-- End .mobile-menu-container -->

<!-- Sign in / Register Modal -->
<div class="modal fade" id="signin-modal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
          <div class="modal-body">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true"><i class="icon-close"></i></span>
              </button>

              <div class="form-box">
                  <div class="form-tab">
                      <ul class="nav nav-pills nav-fill" role="tablist">
                          <li class="nav-item">
                              <a class="nav-link active" id="signin-tab" data-toggle="tab" href="#signin" role="tab" aria-controls="signin" aria-selected="true">Sign In</a>
                          </li>
                          <li class="nav-item">
                              <a class="nav-link" id="register-tab" data-toggle="tab" href="#register" role="tab" aria-controls="register" aria-selected="false">Register</a>
                          </li>
                      </ul>
                      
                  </div><!-- End .form-tab -->
              </div><!-- End .form-box -->
          </div><!-- End .modal-body -->
      </div><!-- End .modal-content -->
  </div><!-- End .modal-dialog -->
</div><!-- End .modal -->

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>

<!-- Plugins JS File -->
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/bootstrap.bundle.min.js"></script>
<script src="/assets/js/jquery.hoverIntent.min.js"></script>
<script src="/assets/js/jquery.waypoints.min.js"></script>
<script src="/assets/js/superfish.min.js"></script>
<script src="/assets/js/owl.carousel.min.js"></script>
<script src="/assets/js/bootstrap-input-spinner.js"></script>
<script src="/assets/js/jquery.elevateZoom.min.js"></script>
<script src="/assets/js/bootstrap-input-spinner.js"></script>
<script src="/assets/js/jquery.magnific-popup.min.js"></script>
<!-- Main JS File -->
<script src="/assets/js/main.js"></script>

<script>

document.addEventListener("DOMContentLoaded", function() {
  // ================== Profile Image Preview ==================
  document.getElementById('profileImage')?.addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
          const reader = new FileReader();
          reader.onload = function(e) {
              document.getElementById('profileImagePreview').src = e.target.result;
          };
          reader.readAsDataURL(file);
      }
  });

  // ================== Profile Edit Form Validation ==================
  const profileEditForm = document.getElementById("profile-edit-form");
  const changePasswordCheckbox = document.getElementById("changePassword");
  
  profileEditForm?.addEventListener("submit", (event) => {
      event.preventDefault();
      const errorMsg = document.getElementById("errorpp");
      errorMsg.innerHTML = "";

      const name = document.getElementById("profile-name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const password = document.getElementById("profile-password").value.trim();
      const confirmPassword = document.getElementById("profile-confirmpassword").value.trim();

      if (!name) return (errorMsg.innerHTML = "Name is required.");
      if (!/^\d{10,15}$/.test(phone) || /^(\d)\1+$/.test(phone)) return (errorMsg.innerHTML = "Invalid phone number.");

      if (changePasswordCheckbox?.checked) {
          if (!password || password.length < 6 || !/[a-z]/.test(password) || !/[A-Z]/.test(password) || !/[0-9]/.test(password) || !/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
              return (errorMsg.innerHTML = "Password must be at least 6 characters, with uppercase, lowercase, number, and special character.");
          }
          if (password !== confirmPassword) return (errorMsg.innerHTML = "Passwords do not match.");
      }
      profileEditForm.submit();
  });

  // ================== Address Edit & Add Validation ==================
  function isValidPhone(phone) {
        return /^[1-9]\d{9}$/.test(phone) && !/^(.)\1+$/.test(phone);
    }

    // Function to validate postal code
    function isValidPostalCode(postalCode) {
        return /^\d{4,10}$/.test(postalCode);
    }

    // Function to validate street
    function isValidStreet(street) {
        return street.length >= 3 && street.length <= 100;
    }

    // Validation for Edit Profile Form
    document.getElementById("profile-edit-form")?.addEventListener("submit", (event) => {
        event.preventDefault();
        const errorMsg = document.getElementById("errorpp");
        errorMsg.innerHTML = "";

        const name = document.getElementById("profile-name").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const changePassword = document.getElementById("changePassword").checked;
        const password = document.getElementById("profile-password")?.value.trim();
        const confirmPassword = document.getElementById("profile-confirmpassword")?.value.trim();

        if (!name) return (errorMsg.innerHTML = "Name is required.");
        if (!isValidPhone(phone)) return (errorMsg.innerHTML = "Invalid phone number.");

        if (changePassword) {
            if (!password || password.length < 6) return (errorMsg.innerHTML = "Password must be at least 6 characters.");
            if (password !== confirmPassword) return (errorMsg.innerHTML = "Passwords do not match.");
        }

        event.target.submit();
    });

    // Validation for Add Address Form
    document.getElementById("addAddressModal")?.querySelector("form")?.addEventListener("submit", (event) => {
        event.preventDefault();
        const errorMsg = document.getElementById("errorp");
        errorMsg.innerHTML = "";

        const street = document.getElementById("street").value.trim();
        const city = document.getElementById("city").value.trim();
        const phone = document.getElementById("phones").value.trim();
        const state = document.getElementById("state").value.trim();
        const country = document.getElementById("country").value.trim();
        const postalCode = document.getElementById("postalCode").value.trim();

        if (!isValidStreet(street)) return (errorMsg.innerHTML = "Invalid street address.");
        if (!city) return (errorMsg.innerHTML = "City is required.");
        if (!isValidPhone(phone)) return (errorMsg.innerHTML = "Invalid phone number.");
        if (!state) return (errorMsg.innerHTML = "State is required.");
        if (!country) return (errorMsg.innerHTML = "Country is required.");
        if (!isValidPostalCode(postalCode)) return (errorMsg.innerHTML = "Invalid postal code.");

        event.target.submit();
    });

    // Validation for Edit Address Form
    document.getElementById("edit-address")?.addEventListener("submit", (event) => {
        event.preventDefault();
        const errorMsg = document.getElementById("error-message");
        errorMsg.innerHTML = "";

        const street = document.getElementById("editStreet").value.trim();
        const city = document.getElementById("editCity").value.trim();
        const phone = document.getElementById("editPhone").value.trim();
        const state = document.getElementById("editState").value.trim();
        const country = document.getElementById("editCountry").value.trim();
        const postalCode = document.getElementById("editPostalCode").value.trim();

        if (!isValidStreet(street)) return (errorMsg.innerHTML = "Invalid street address.");
        if (!city) return (errorMsg.innerHTML = "City is required.");
        if (!isValidPhone(phone)) return (errorMsg.innerHTML = "Invalid phone number.");
        if (!state) return (errorMsg.innerHTML = "State is required.");
        if (!country) return (errorMsg.innerHTML = "Country is required.");
        if (!isValidPostalCode(postalCode)) return (errorMsg.innerHTML = "Invalid postal code.");

        event.target.submit();
    });

  // ================== Referral Code Share ==================
  window.shareOnWhatsApp = function() {
      let referralCode = "<%= user.referralCode %>";
      let shareText = `Join this amazing site and get rewards! Use my referral code: ${referralCode}`;
      window.open(`https://wa.me/?text=${encodeURIComponent(shareText)}`, "_blank");
  };

  // ================== Address Deletion Confirmation ==================
  window.confirmDeletion = function(event, form) {
      event.preventDefault();
      Swal.fire({ title: "Are you sure?", text: "This action cannot be undone!", icon: "warning", showCancelButton: true, confirmButtonColor: "#d33", cancelButtonColor: "#3085d6", confirmButtonText: "Yes, delete it!", cancelButtonText: "Cancel" })
          .then((result) => { if (result.isConfirmed) form.submit(); });
  };

  // ================== Pagination for Tables ==================
  function showPage(page) {
      const rowsPerPage = 3;
      document.querySelectorAll('tbody tr').forEach((row, index) => {
          row.style.display = (index >= (page - 1) * rowsPerPage && index < page * rowsPerPage) ? 'table-row' : 'none';
      });
      document.getElementById('pageno').textContent = page;
  }
  window.pageback = function() { let current = parseInt(document.getElementById('pageno').textContent); if (current > 1) showPage(current - 1); };
  window.pagenext = function() { let totalRows = document.querySelectorAll('tbody tr').length; let maxPages = Math.ceil(totalRows / 3); let current = parseInt(document.getElementById('pageno').textContent); if (current < maxPages) showPage(current + 1); };
  showPage(1);

  // ================== Wallet Section Handling ==================
  document.querySelectorAll('.nav-link')?.forEach(link => {
      link.addEventListener('click', async function(e) {
          e.preventDefault();
          document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
          this.classList.add('active');
          document.querySelectorAll('.content-section').forEach(section => section.style.display = 'none');
          let targetSection = this.getAttribute('data-section');
          if (targetSection === 'wallet-section') {
              try {
                  let response = await fetch('/wallet', { headers: { 'X-Requested-With': 'XMLHttpRequest' } });
                  if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                  document.getElementById('wallet-section').innerHTML = await response.text();
              } catch (error) {
                  console.error('Error loading wallet:', error);
              }
          }
          document.getElementById(targetSection).style.display = 'block';
      });
  });
});

function editAddress(id, street, city, state, country, postalCode, phone) {
    document.getElementById('editStreet').value = street;
    document.getElementById('editCity').value = city;
    document.getElementById('editState').value = state;
    document.getElementById('editCountry').value = country;
    document.getElementById('editPostalCode').value = postalCode;
    document.getElementById('editPhone').value = phone;
    document.getElementById('editId').value = id;
    document.getElementById('edit-address').action = `/edit-address`;
}

function togglePasswordFields() {
    const passwordFields = document.getElementById('passwordFields');
    const checkbox = document.getElementById('changePassword');
    passwordFields.style.display = checkbox.checked ? 'block' : 'none';
}

</script>


</body>


<!-- molla/product.html  22 Nov 2019 09:55:05 GMT -->
</html>
